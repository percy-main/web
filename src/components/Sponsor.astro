---
import type { Game } from "@/collections/game";
import { paymentData } from "@/lib/payments/config";
import { PaymentLink } from "@/components/PaymentLink";

type Props = {
  id: string;
  game: Game;
};

const { id, game } = Astro.props;
---

{
  game.sponsor ? (
    <div class="flex flex-col items-start">
      <p class="text-dark justify-self-startpx-4 mt-2 py-2 text-sm">
        Sponsored by
      </p>
      <p class="font-bold">{game.sponsor.name}</p>
    </div>
  ) : (
    <div class="mt-4 justify-self-start rounded bg-blue-500 px-4 py-2 text-sm text-white hover:bg-blue-700">
      <PaymentLink
        priceId={paymentData.prices.sponsorship}
        metadata={{ type: "sponsorGame", gameId: id }}
      >
        Sponsor This Game
      </PaymentLink>
    </div>
  )
}
