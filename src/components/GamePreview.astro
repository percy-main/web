---
import { Image } from "astro:assets";
import type { Game } from "@/collections/game";
import { formatDate } from "date-fns";
import { IoChevronForward } from "react-icons/io5";
import Sponsor from "./Sponsor.astro";

type Props = {
  id: string;
  game: Game;
  sponsorshipPriceId: string;
};

const { id, game, sponsorshipPriceId } = Astro.props;
---

<div class="flex flex-col items-stretch justify-between h-full">
  <div class="flex flex-row justify-start gap-4">
    <Image
      src="/images/cricket.png"
      alt="Cricket Match"
      title="Cricket Match"
      width="24"
      height="24"
      loading="eager"
      class="self-start mt-1"
    />
    <h4 class="text-lg font-semibold">
      {formatDate(game.when, "dd/MM/yyyy")}
    </h4>
  </div>
  <div class="flex flex-row gap-4">
    <div class="text-sm">
      <p>
        {game.team} versus {game.opposition}{" "}
        {game.home ? "(H)" : "(A)"}
      </p>
      <p>{game.league}</p>
    </div>
    <a
      href={`/calendar/event/${id}`}
      class="self-stretch flex flex-col items-center justify-center"
      aria-label="Read more about this game"
    >
      <IoChevronForward
        className="text-gray-700 hover:text-gray-400"
        fontSize={32}
      />
    </a>
  </div>
  <div class="self-center">
    <Sponsor id={id} game={game} />
  </div>
</div>
